<main>
  <nav class="top-right-buttons">
    <button (click)="goBack()">Back</button>
  </nav>
  <section>
    <header>
      <h2>My Competitions</h2>
    </header>
    <table *ngIf="!loading && competitions && competitions.length > 0">
      <thead>
        <tr>
          <th>Name</th>
          <th>Sport</th>
          <th>Status</th>
          <th>Start</th>
          <th>End</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of competitions" [ngClass]="{'finished-competition': c.status === 3}">
          <td>{{ c.competition_name }}</td>
          <td>{{ c.sport_name }}</td>
          <td>{{ statusLabel(c.status) }}</td>
          <td>{{ c.start_date ? (c.start_date | date:'yyyy-MM-dd') : '-' }}</td>
          <td>{{ c.end_date ? (c.end_date | date:'yyyy-MM-dd') : '-' }}</td>
          <td>
            <button (click)="editCompetition(c.competition_id, c.status)">
              {{ getActionLabel(c.status) }}
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
</main>